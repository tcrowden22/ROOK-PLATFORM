# ---------------------------------------------------------------------------
# Rook Unified Access Platform - Portainer Deployment Environment (Template)
# Copy these values into Portainer stack variables or rename to `.env.portainer`
# ---------------------------------------------------------------------------

# == Database ==
PG_DB=rook
PG_SUPERUSER=postgres
PG_SUPERPASS=change-this-super-password
PG_APP_USER=rook_app
PG_APP_PASS=change-this-app-password
PG_RUNTIME_USER=rook_runtime
PG_RUNTIME_PASS=change-this-runtime-password
PG_MIGRATE_USER=rook_migrate
PG_MIGRATE_PASS=change-this-migrate-password
KONG_PG_DATABASE=kong

# Optional pgAdmin UI (mapped to host port 19090)
PGADMIN_EMAIL=admin@example.com
PGADMIN_PASSWORD=change-this-pgadmin-password
PGADMIN_PORT=19090

# == Global Host Settings ==
NODE_ENV=production
LOG_LEVEL=info

# LAN IP of the Portainer host
EXTERNAL_HOST=192.168.7.116

# == Keycloak ==
KEYCLOAK_ADMIN_PASSWORD=change-this-keycloak-admin-password
KEYCLOAK_REALM=rook
KEYCLOAK_CLIENT_ID=rook-app
KEYCLOAK_CLIENT_SECRET=
KEYCLOAK_URL=http://keycloak:8080/auth
KEYCLOAK_EXTERNAL_HOSTNAME=${EXTERNAL_HOST}:9000
KEYCLOAK_ADMIN_URL=http://${EXTERNAL_HOST}:9002/auth
KEYCLOAK_PORT=9002

# == API (Muninn + services backend) ==
API_PORT=3000
CORS_ORIGIN=http://${EXTERNAL_HOST}:9001
JWT_SECRET=change-this-jwt-secret-at-least-32-chars
SESSION_SECRET=change-this-session-secret-at-least-32-chars

# == Gateway ==
GATEWAY_PORT=35000
GATEWAY_CORS_ORIGIN=http://${EXTERNAL_HOST}:9001
API_KEY_SECRET=change-this-gateway-secret-at-least-32-chars
GATEWAY_RATE_LIMIT_MAX=1000
GATEWAY_RATE_LIMIT_WINDOW=60000

# == Kong ==
KONG_PROXY_PORT=9000
KONG_PROXY_SSL_PORT=9444
KONG_SESSION_SECRET=change-this-kong-session-secret-at-least-32-chars

# == Frontend (Odin) ==
FRONTEND_PORT=9001
VITE_API_URL=http://${EXTERNAL_HOST}:9000
VITE_KEYCLOAK_URL=http://${EXTERNAL_HOST}:9000/auth

# == Profiles ==
# Enable the following profile to run one-time Kong migrations:
# COMPOSE_PROFILES=init

